the previous version works great but too slow
this version attempts to send packets of size 200 and render immediately.